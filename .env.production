# Production Environment Configuration
COMPOSE_PROJECT_NAME=xians-community-edition
ENVIRONMENT=production
ENVIRONMENT_SUFFIX=-prod

# Images (production versions)
SERVER_IMAGE=xiansai/server:latest
UI_IMAGE=xiansai/ui:latest

# ASP.NET Core Environment
ASPNETCORE_ENV=Production

# MongoDB Configuration (production uses init script)
MONGO_SCRIPT_PATH=./mongo-init.js
MONGO_SCRIPT_MOUNT=/docker-entrypoint-initdb.d/mongo-init.js
MONGO_HEALTHCHECK_CMD=["CMD", "mongosh", "--eval", "db.adminCommand('ping')"]
MONGO_HEALTHCHECK_INTERVAL=10s
MONGO_HEALTHCHECK_TIMEOUT=5s
MONGO_HEALTHCHECK_RETRIES=5
MONGO_HEALTHCHECK_START_PERIOD=30s

# Resource Limits (production-grade)
MONGO_MEMORY_LIMIT=1G
MONGO_MEMORY_RESERVATION=512M
SERVER_MEMORY_LIMIT=2G
SERVER_MEMORY_RESERVATION=1G
UI_MEMORY_LIMIT=512M
UI_MEMORY_RESERVATION=256M

# Logging (json-file driver for production)
LOGGING_DRIVER=json-file
LOG_MAX_SIZE=10m
LOG_MAX_FILE=3 